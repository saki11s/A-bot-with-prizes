# ✨ Бот с призами ✨

С помощью этого бота вы сможете получать уникальные фотографии. Но будьте внимательны: одну и ту же картинку смогут получить только **три первых пользователя**, и новая возможность получить приз появляется раз в **30 минут**!

---

## Как работает бот?

При первом запуске диалога с ботом командой `/start` он **зарегистрирует** ваш аккаунт в базе данных и **пришлёт** приветственное сообщение.

![image](https://github.com/user-attachments/assets/091c436d-9503-4552-b38d-32a7ac4e385f)

*Приветственное сообщение при регистрации.*

После этого вам останется только подождать. Спустя 30 минут после появления нового приза (или после старта бота, если это первый приз), вам придёт похожее уведомление:

![image](https://github.com/user-attachments/assets/ece0524f-c42f-43a4-8514-bbf1754e95f4)

*Уведомление о новом призе.*

Если вы успеете **вовремя нажать на кнопку "Получить!"** (и окажетесь среди первых трех пользователей, кто это сделал), приз будет вашим! Бот пришлёт вам **не размытую, а оригинальную картинку**. Через 30 минут появится следующий приз (если он есть в наличии).

---

## Запуск бота

Перед запуском бота необходимо выполнить несколько шагов:

1.  **API Token:** Во-первых, не забудьте получить свой API Token от [BotFather](https://t.me/BotFather) и вставить его в файл `config.py`.
2.  **Изображения призов:** Подготовьте изображения для призов.

### Каталоги с изображениями призов

В проекте используются два каталога для хранения изображений:

1.  **`img/`**
    *   **Назначение:** Этот каталог предназначен для хранения **оригинальных, нецензурированных** изображений, которые будут использоваться в качестве призов в боте.
    *   **Что делать:** Поместите сюда все изображения (в поддерживаемых OpenCV форматах, например, `.png`, `.jpg`), которые вы хотите видеть в качестве призов. 

2.  **`hidden_img/`**
    *   **Назначение:** Этот каталог используется для автоматического хранения **скрытых (размытых/пикселизированных)** версий оригинальных изображений. Именно эти скрытые изображения бот отправляет пользователям раз в 30 минут.
    *   **Что делать:** **Ничего!** Вам не нужно вручную создавать этот каталог или помещать в него файлы. Бот делает это автоматически при первом запуске:
        *   Когда бот отправляет уведомление о новом призе, он берет соответствующее оригинальное изображение из каталога `img/`.
        *   С помощью библиотеки OpenCV он создает размытую/пикселизированную копию этого изображения.
        *   Он сохраняет эту копию в каталог `hidden_img/` (создавая его, если это не сделали вы) под тем же именем.
    *   **Как пользователь получает оригинальное изображение:** Оригинальное изображение из каталога `img/` отправляется пользователю только тогда, когда он успешно нажимает кнопку "Получить!" и забирает приз.

**Таким образом, вам нужно управлять только содержимым каталога `img/`. Каталог `hidden_img/` полностью управляется ботом.**

---

### Какие именно данные о вас хранит бот?

Некоторые могут волноваться, что бот собирает личные данные пользователей при регистрации. Если вы тоже волнуетесь на этот счёт, это объяснение для вас.

Когда новый пользователь начинает диалог с ботом командой `/start`, бот сохраняет его данные в базе данных. Эти данные хранятся в таблице `users`. На скриншоте вы можете увидеть структуру этой таблицы:

![image](https://github.com/user-attachments/assets/2ffcb43a-5d98-4712-a7cf-d662f72d9da2)

*Структура таблицы `users` в базе данных.*

Данные, которые регистрирует бот:

1.  `user_id` - Уникальный идентификатор вашего аккаунта Telegram.
2.  `user_name` - Ваш публичный никнейм в Telegram (если установлен).

Этих данных достаточно для корректного взаимодействия с разными пользователями и отслеживания выданных призов, не собирая избыточной личной информации.

---
